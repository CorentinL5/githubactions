name: D√©mo variables ‚Äì d√©clenchement manuel

# üîò D√©clenchement par bouton uniquement
on:
  workflow_dispatch:
    inputs:
      couleur:
        description: "Couleur initiale"
        required: true
        default: "jaune"

# Variables globales
env:
  MA_VARIABLE_PRENOM: "Alice"
  MA_VARIABLE_NOM: "Bob"
  MA_VARIABLE_MULTILIGNE: |
    Bonjour
    √† tous
    !

jobs:
  demo:
    runs-on: ubuntu-latest

    # Variable de job bas√©e sur l‚Äôinput utilisateur
    env:
      COULEUR: ${{ inputs.couleur }}

    steps:
      - name: Afficher les variables globales
        run: |
          echo "Pr√©nom : $MA_VARIABLE_PRENOM"
          echo "Nom : $MA_VARIABLE_NOM"
          echo "$MA_VARIABLE_MULTILIGNE"

      - name: Variable issue du bouton (input)
        run: echo "Couleur initiale : $COULEUR"

      # Variable dynamique
      - name: Modifier dynamiquement la variable
        run: |
          echo "COULEUR=vert" >> $GITHUB_ENV

      - name: V√©rifier la variable dynamique
        run: echo "Couleur apr√®s modification : $COULEUR"

      # Variable de sortie
      - name: D√©finir une variable de sortie
        id: monStep
        run: echo "RESULTAT=succ√®s" >> $GITHUB_OUTPUT

      - name: Utiliser la variable de sortie
        run: echo "R√©sultat : ${{ steps.monStep.outputs.RESULTAT }}"

      # Variables GitHub pr√©d√©finies
      - name: Variables GitHub pr√©d√©finies
        run: |
          echo "Repo : $GITHUB_REPOSITORY"
          echo "Utilisateur : $GITHUB_ACTOR"
          echo "Commit : $GITHUB_SHA"
